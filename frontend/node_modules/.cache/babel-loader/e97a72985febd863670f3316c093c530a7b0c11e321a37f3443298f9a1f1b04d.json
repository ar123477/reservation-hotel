{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HOME\\\\Videos\\\\reservation-hotel\\\\frontend\\\\src\\\\pages\\\\Reservation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../services/auth';\nimport { hotelsAPI, roomsAPI, reservationsAPI } from '../services/api';\nimport { useApiData } from '../hooks/useApiData';\nimport { adaptHotelData, adaptRoomData } from '../utils/dataAdapter';\nimport ReservationType from '../components/reservation/ReservationType';\nimport DateSelector from '../components/reservation/DateSelector';\nimport ClientForm from '../components/reservation/ClientForm';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reservation = () => {\n  _s();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useAuth();\n  const searchParams = new URLSearchParams(location.search);\n  const {\n    state\n  } = location;\n  const initialClient = (state === null || state === void 0 ? void 0 : state.client) || {\n    nom: (user === null || user === void 0 ? void 0 : user.nom) || '',\n    prenom: (user === null || user === void 0 ? void 0 : user.prenom) || '',\n    email: (user === null || user === void 0 ? void 0 : user.email) || '',\n    telephone: (user === null || user === void 0 ? void 0 : user.telephone) || '',\n    pays: 'Togo'\n  };\n  const [reservation, setReservation] = useState({\n    hotel: null,\n    room: null,\n    type: searchParams.get('type') || 'classique',\n    dates: {\n      arrivee: '',\n      depart: '',\n      heures: 0\n    },\n    client: initialClient,\n    montantTotal: 0\n  });\n  const [currentStep, setCurrentStep] = useState(1);\n  const [calculating, setCalculating] = useState(false);\n  const {\n    data: hotels\n  } = useApiData(() => hotelsAPI.getAll(), backendData => backendData.map(adaptHotelData));\n  const {\n    data: roomTypes\n  } = useApiData(() => roomsAPI.getTypes(searchParams.get('hotel')), backendData => backendData.map(adaptRoomData));\n  useEffect(() => {\n    const hotelId = searchParams.get('hotel');\n    const roomId = searchParams.get('room');\n    if (hotelId && hotels) {\n      const selectedHotel = hotels.find(h => h.id === parseInt(hotelId));\n      if (selectedHotel) setReservation(prev => ({\n        ...prev,\n        hotel: selectedHotel\n      }));\n    }\n    if (roomId && roomTypes) {\n      const selectedRoom = roomTypes.find(r => r.id === parseInt(roomId));\n      if (selectedRoom) setReservation(prev => ({\n        ...prev,\n        room: selectedRoom\n      }));\n    }\n  }, [location.search, hotels, roomTypes]);\n  useEffect(() => {\n    if (reservation.room && reservation.dates.arrivee) {\n      calculateTotal();\n    }\n  }, [reservation.room, reservation.type, reservation.dates]);\n  const calculateTotal = () => {\n    setCalculating(true);\n    setTimeout(() => {\n      let total = 0;\n      const {\n        room,\n        type,\n        dates\n      } = reservation;\n      if (type === 'horaire') {\n        total = dates.heures * room.prix_heure;\n      } else {\n        const dateArrivee = new Date(dates.arrivee);\n        const dateDepart = new Date(dates.depart);\n        const jours = Math.ceil((dateDepart - dateArrivee) / (1000 * 60 * 60 * 24));\n        total = jours * room.prix_nuit;\n      }\n      setReservation(prev => ({\n        ...prev,\n        montantTotal: Math.round(total * 100) / 100\n      }));\n      setCalculating(false);\n    }, 500);\n  };\n  const validateStep1 = () => {\n    return reservation.dates.arrivee && (reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.heures > 0);\n  };\n  const validateStep2 = () => {\n    const {\n      nom,\n      prenom,\n      email,\n      telephone\n    } = reservation.client;\n    return nom && prenom && email && telephone;\n  };\n  const handleReservationSubmit = async () => {\n    if (!reservation.hotel || !reservation.room) {\n      alert(\"Veuillez sélectionner un hôtel et une chambre avant de confirmer.\");\n      return;\n    }\n    try {\n      var _reservation$hotel, _reservation$room, _reservation$hotel2;\n      // 1) Récupère disponibilités pour obtenir un vrai chambre_id\n      const dispo = await roomsAPI.getDisponibilite({\n        hotel_id: (_reservation$hotel = reservation.hotel) === null || _reservation$hotel === void 0 ? void 0 : _reservation$hotel.id,\n        date_arrivee: reservation.dates.arrivee,\n        date_depart: reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.arrivee,\n        type_chambre: (_reservation$room = reservation.room) === null || _reservation$room === void 0 ? void 0 : _reservation$room.type\n      });\n      const selected = Array.isArray(dispo) && dispo.length > 0 ? dispo[0] : null;\n      if (!selected) {\n        alert(\"Aucune chambre disponible pour ces critères.\");\n        return;\n      }\n      const reservationData = {\n        hotel_id: ((_reservation$hotel2 = reservation.hotel) === null || _reservation$hotel2 === void 0 ? void 0 : _reservation$hotel2.id) || null,\n        chambre_id: selected.id,\n        date_arrivee: reservation.dates.arrivee,\n        date_depart: reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.arrivee,\n        type_reservation: reservation.type,\n        informations_client: reservation.client,\n        methode_paiement: 'sur_place',\n        montant_total: reservation.montantTotal\n      };\n      const result = await reservationsAPI.create(reservationData);\n      navigate('/choix-paiement', {\n        state: {\n          reservation: {\n            ...reservation,\n            id: result.id,\n            numero_reservation: result.numero_reservation\n          }\n        }\n      });\n    } catch (error) {\n      alert(`Erreur lors de la réservation: ${error.message}`);\n    }\n  };\n  const handleNextStep = () => {\n    if (currentStep === 1 && validateStep1()) {\n      setCurrentStep(2);\n    } else if (currentStep === 2 && validateStep2()) {\n      handleReservationSubmit();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservation-page\",\n    children: [!user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info-box\",\n      children: \"Vous n'\\xEAtes pas connect\\xE9. Veuillez remplir tous les champs pour finaliser votre r\\xE9servation.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), currentStep === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ReservationType, {\n        type: reservation.type,\n        onTypeChange: newType => setReservation(prev => ({\n          ...prev,\n          type: newType\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DateSelector, {\n        selectedDates: reservation.dates,\n        onDatesChange: dates => setReservation(prev => ({\n          ...prev,\n          dates\n        })),\n        type: reservation.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextStep,\n        className: \"btn-primary\",\n        children: \"Suivant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), currentStep === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(ClientForm, {\n        client: reservation.client,\n        onChange: client => setReservation(prev => ({\n          ...prev,\n          client\n        }))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total-box\",\n        children: [\"Montant total : \", reservation.montantTotal.toLocaleString(), \" FCFA\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextStep,\n        className: \"btn-success\",\n        children: \"Confirmer la r\\xE9servation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(Reservation, \"ybe0JbeUBEaA6HgR1Qcc5nf4muI=\", false, function () {\n  return [useLocation, useNavigate, useAuth, useApiData, useApiData];\n});\n_c = Reservation;\nexport default Reservation;\nvar _c;\n$RefreshReg$(_c, \"Reservation\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","useAuth","hotelsAPI","roomsAPI","reservationsAPI","useApiData","adaptHotelData","adaptRoomData","ReservationType","DateSelector","ClientForm","jsxDEV","_jsxDEV","Fragment","_Fragment","Reservation","_s","location","navigate","user","searchParams","URLSearchParams","search","state","initialClient","client","nom","prenom","email","telephone","pays","reservation","setReservation","hotel","room","type","get","dates","arrivee","depart","heures","montantTotal","currentStep","setCurrentStep","calculating","setCalculating","data","hotels","getAll","backendData","map","roomTypes","getTypes","hotelId","roomId","selectedHotel","find","h","id","parseInt","prev","selectedRoom","r","calculateTotal","setTimeout","total","prix_heure","dateArrivee","Date","dateDepart","jours","Math","ceil","prix_nuit","round","validateStep1","validateStep2","handleReservationSubmit","alert","_reservation$hotel","_reservation$room","_reservation$hotel2","dispo","getDisponibilite","hotel_id","date_arrivee","date_depart","type_chambre","selected","Array","isArray","length","reservationData","chambre_id","type_reservation","informations_client","methode_paiement","montant_total","result","create","numero_reservation","error","message","handleNextStep","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onTypeChange","newType","selectedDates","onDatesChange","onClick","onChange","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/HOME/Videos/reservation-hotel/frontend/src/pages/Reservation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../services/auth';\r\nimport { hotelsAPI, roomsAPI, reservationsAPI } from '../services/api';\r\nimport { useApiData } from '../hooks/useApiData';\r\nimport { adaptHotelData, adaptRoomData } from '../utils/dataAdapter';\r\nimport ReservationType from '../components/reservation/ReservationType';\r\nimport DateSelector from '../components/reservation/DateSelector';\r\nimport ClientForm from '../components/reservation/ClientForm';\r\n\r\nconst Reservation = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { user } = useAuth();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const { state } = location;\r\n\r\n  const initialClient = state?.client || {\r\n    nom: user?.nom || '',\r\n    prenom: user?.prenom || '',\r\n    email: user?.email || '',\r\n    telephone: user?.telephone || '',\r\n    pays: 'Togo'\r\n  };\r\n\r\n  const [reservation, setReservation] = useState({\r\n    hotel: null,\r\n    room: null,\r\n    type: searchParams.get('type') || 'classique',\r\n    dates: {\r\n      arrivee: '',\r\n      depart: '',\r\n      heures: 0\r\n    },\r\n    client: initialClient,\r\n    montantTotal: 0\r\n  });\r\n\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [calculating, setCalculating] = useState(false);\r\n\r\n  const { data: hotels } = useApiData(\r\n    () => hotelsAPI.getAll(),\r\n    (backendData) => backendData.map(adaptHotelData)\r\n  );\r\n\r\n  const { data: roomTypes } = useApiData(\r\n    () => roomsAPI.getTypes(searchParams.get('hotel')),\r\n    (backendData) => backendData.map(adaptRoomData)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const hotelId = searchParams.get('hotel');\r\n    const roomId = searchParams.get('room');\r\n\r\n    if (hotelId && hotels) {\r\n      const selectedHotel = hotels.find(h => h.id === parseInt(hotelId));\r\n      if (selectedHotel) setReservation(prev => ({ ...prev, hotel: selectedHotel }));\r\n    }\r\n\r\n    if (roomId && roomTypes) {\r\n      const selectedRoom = roomTypes.find(r => r.id === parseInt(roomId));\r\n      if (selectedRoom) setReservation(prev => ({ ...prev, room: selectedRoom }));\r\n    }\r\n  }, [location.search, hotels, roomTypes]);\r\n\r\n  useEffect(() => {\r\n    if (reservation.room && reservation.dates.arrivee) {\r\n      calculateTotal();\r\n    }\r\n  }, [reservation.room, reservation.type, reservation.dates]);\r\n\r\n  const calculateTotal = () => {\r\n    setCalculating(true);\r\n\r\n    setTimeout(() => {\r\n      let total = 0;\r\n      const { room, type, dates } = reservation;\r\n\r\n      if (type === 'horaire') {\r\n        total = dates.heures * room.prix_heure;\r\n      } else {\r\n        const dateArrivee = new Date(dates.arrivee);\r\n        const dateDepart = new Date(dates.depart);\r\n        const jours = Math.ceil((dateDepart - dateArrivee) / (1000 * 60 * 60 * 24));\r\n        total = jours * room.prix_nuit;\r\n      }\r\n\r\n      setReservation(prev => ({ ...prev, montantTotal: Math.round(total * 100) / 100 }));\r\n      setCalculating(false);\r\n    }, 500);\r\n  };\r\n\r\n  const validateStep1 = () => {\r\n    return reservation.dates.arrivee && (\r\n      reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.heures > 0\r\n    );\r\n  };\r\n\r\n  const validateStep2 = () => {\r\n    const { nom, prenom, email, telephone } = reservation.client;\r\n    return nom && prenom && email && telephone;\r\n  };\r\n\r\n  const handleReservationSubmit = async () => {\r\n    if (!reservation.hotel || !reservation.room) {\r\n      alert(\"Veuillez sélectionner un hôtel et une chambre avant de confirmer.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // 1) Récupère disponibilités pour obtenir un vrai chambre_id\r\n      const dispo = await roomsAPI.getDisponibilite({\r\n        hotel_id: reservation.hotel?.id,\r\n        date_arrivee: reservation.dates.arrivee,\r\n        date_depart: reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.arrivee,\r\n        type_chambre: reservation.room?.type\r\n      });\r\n      const selected = Array.isArray(dispo) && dispo.length > 0 ? dispo[0] : null;\r\n      if (!selected) {\r\n        alert(\"Aucune chambre disponible pour ces critères.\");\r\n        return;\r\n      }\r\n\r\n      const reservationData = {\r\n        hotel_id: reservation.hotel?.id || null,\r\n        chambre_id: selected.id,\r\n        date_arrivee: reservation.dates.arrivee,\r\n        date_depart: reservation.type === 'classique' ? reservation.dates.depart : reservation.dates.arrivee,\r\n        type_reservation: reservation.type,\r\n        informations_client: reservation.client,\r\n        methode_paiement: 'sur_place',\r\n        montant_total: reservation.montantTotal\r\n      };\r\n\r\n      const result = await reservationsAPI.create(reservationData);\r\n\r\n      navigate('/choix-paiement', {\r\n        state: {\r\n          reservation: {\r\n            ...reservation,\r\n            id: result.id,\r\n            numero_reservation: result.numero_reservation\r\n          }\r\n        }\r\n      });\r\n\r\n    } catch (error) {\r\n      alert(`Erreur lors de la réservation: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleNextStep = () => {\r\n    if (currentStep === 1 && validateStep1()) {\r\n      setCurrentStep(2);\r\n    } else if (currentStep === 2 && validateStep2()) {\r\n      handleReservationSubmit();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"reservation-page\">\r\n      {!user && (\r\n        <div className=\"info-box\">\r\n          Vous n'êtes pas connecté. Veuillez remplir tous les champs pour finaliser votre réservation.\r\n        </div>\r\n      )}\r\n\r\n      {currentStep === 1 && (\r\n        <>\r\n          <ReservationType\r\n            type={reservation.type}\r\n            onTypeChange={(newType) => setReservation(prev => ({ ...prev, type: newType }))}\r\n          />\r\n          <DateSelector\r\n            selectedDates={reservation.dates}\r\n            onDatesChange={(dates) => setReservation(prev => ({ ...prev, dates }))}\r\n            type={reservation.type}\r\n          />\r\n          <button onClick={handleNextStep} className=\"btn-primary\">Suivant</button>\r\n        </>\r\n      )}\r\n\r\n      {currentStep === 2 && (\r\n        <>\r\n          <ClientForm\r\n            client={reservation.client}\r\n            onChange={(client) => setReservation(prev => ({ ...prev, client }))}\r\n          />\r\n          <div className=\"total-box\">\r\n            Montant total : {reservation.montantTotal.toLocaleString()} FCFA\r\n          </div>\r\n          <button onClick={handleNextStep} className=\"btn-success\">Confirmer la réservation</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reservation;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}