{"ast":null,"code":"import emailjs from '@emailjs/browser';\nexport const sendConfirmationEmail = async reservation => {\n  var _reservation$montant_;\n  const client = reservation.informations_client || reservation.client || {};\n  const hotel = reservation.hotel || {};\n  const montantTotal = (_reservation$montant_ = reservation.montant_total) !== null && _reservation$montant_ !== void 0 ? _reservation$montant_ : reservation.montantTotal;\n  const templateParams = {\n    to_name: `${client.prenom || ''} ${client.nom || ''}`.trim(),\n    to_email: client.email,\n    reservation_number: reservation.numero_reservation,\n    payment_status: reservation.statut_paiement === 'paye_online' ? 'Payé en ligne' : 'À régler sur place',\n    hotel_name: hotel.nom,\n    montant_total: Number(montantTotal || 0).toLocaleString('fr-FR') + ' FCFA'\n  };\n  try {\n    await emailjs.send('service_i01xkhm',\n    // ← remplace par ton vrai Service ID\n    'template_lcyxoyr',\n    // ← remplace par ton vrai Template ID\n    templateParams, 'DoNII59lRb1p4VF3x' // ← colle ici ta Public Key\n    );\n    console.log('✅ Email de confirmation envoyé à', reservation.client.email);\n  } catch (error) {\n    console.error('❌ Erreur lors de l’envoi de l’email :', error);\n  }\n};","map":{"version":3,"names":["emailjs","sendConfirmationEmail","reservation","_reservation$montant_","client","informations_client","hotel","montantTotal","montant_total","templateParams","to_name","prenom","nom","trim","to_email","email","reservation_number","numero_reservation","payment_status","statut_paiement","hotel_name","Number","toLocaleString","send","console","log","error"],"sources":["C:/Users/HOME/Videos/reservation-hotel/frontend/src/utils/sendConfirmationEmail.js"],"sourcesContent":["import emailjs from '@emailjs/browser';\r\n\r\nexport const sendConfirmationEmail = async (reservation) => {\r\n  const client = reservation.informations_client || reservation.client || {};\r\n  const hotel = reservation.hotel || {};\r\n  const montantTotal = reservation.montant_total ?? reservation.montantTotal;\r\n\r\n  const templateParams = {\r\n    to_name: `${client.prenom || ''} ${client.nom || ''}`.trim(),\r\n    to_email: client.email,\r\n    reservation_number: reservation.numero_reservation,\r\n    payment_status: reservation.statut_paiement === 'paye_online' ? 'Payé en ligne' : 'À régler sur place',\r\n    hotel_name: hotel.nom,\r\n    montant_total: (Number(montantTotal || 0)).toLocaleString('fr-FR') + ' FCFA'\r\n  };\r\n\r\n  try {\r\n    await emailjs.send(\r\n      'service_i01xkhm',     // ← remplace par ton vrai Service ID\r\n      'template_lcyxoyr',    // ← remplace par ton vrai Template ID\r\n      templateParams,\r\n      'DoNII59lRb1p4VF3x'       // ← colle ici ta Public Key\r\n    );\r\n    console.log('✅ Email de confirmation envoyé à', reservation.client.email);\r\n  } catch (error) {\r\n    console.error('❌ Erreur lors de l’envoi de l’email :', error);\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,OAAO,MAAM,kBAAkB;AAEtC,OAAO,MAAMC,qBAAqB,GAAG,MAAOC,WAAW,IAAK;EAAA,IAAAC,qBAAA;EAC1D,MAAMC,MAAM,GAAGF,WAAW,CAACG,mBAAmB,IAAIH,WAAW,CAACE,MAAM,IAAI,CAAC,CAAC;EAC1E,MAAME,KAAK,GAAGJ,WAAW,CAACI,KAAK,IAAI,CAAC,CAAC;EACrC,MAAMC,YAAY,IAAAJ,qBAAA,GAAGD,WAAW,CAACM,aAAa,cAAAL,qBAAA,cAAAA,qBAAA,GAAID,WAAW,CAACK,YAAY;EAE1E,MAAME,cAAc,GAAG;IACrBC,OAAO,EAAE,GAAGN,MAAM,CAACO,MAAM,IAAI,EAAE,IAAIP,MAAM,CAACQ,GAAG,IAAI,EAAE,EAAE,CAACC,IAAI,CAAC,CAAC;IAC5DC,QAAQ,EAAEV,MAAM,CAACW,KAAK;IACtBC,kBAAkB,EAAEd,WAAW,CAACe,kBAAkB;IAClDC,cAAc,EAAEhB,WAAW,CAACiB,eAAe,KAAK,aAAa,GAAG,eAAe,GAAG,oBAAoB;IACtGC,UAAU,EAAEd,KAAK,CAACM,GAAG;IACrBJ,aAAa,EAAGa,MAAM,CAACd,YAAY,IAAI,CAAC,CAAC,CAAEe,cAAc,CAAC,OAAO,CAAC,GAAG;EACvE,CAAC;EAED,IAAI;IACF,MAAMtB,OAAO,CAACuB,IAAI,CAChB,iBAAiB;IAAM;IACvB,kBAAkB;IAAK;IACvBd,cAAc,EACd,mBAAmB,CAAO;IAC5B,CAAC;IACDe,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEvB,WAAW,CAACE,MAAM,CAACW,KAAK,CAAC;EAC3E,CAAC,CAAC,OAAOW,KAAK,EAAE;IACdF,OAAO,CAACE,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;EAC/D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}